<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>perf.html example &mdash; Branching Call Tree</title>
    <link rel='stylesheet' href='examples.css'>
  </head>
  <body>
    <h1>Branching Call Tree</h1>

    <h3>Stacks are collected every 1 millisecond.</h3>

    <img src='./images/call-tree-samples.png' style='height: 300px;' />

    <h3>The call tree sums the times together into a single tree:</h3>

    <img src='./images/call-tree.png' style='height: 300px;'/>

    <p>
      There is JavaScript embedded on this page that creates a call tree in the above
      shape. Collect a profile on this page, switch to the JS-only view in the call tree
      to view the tree.
    </p>

    <script type="text/javascript">
      function a() {
        b();
      }

      function b() {
        c();
        h();
      }

      function c() {
        d();
        f();
      }

      function d() {
        e();
      }

      function e() {
        for (let i = 0; i < 1e7; i += Math.random()) {}
      }

      function f() {
        for (let i = 0; i < 1e7; i += Math.random()) {}
        g();
      }

      function g() {
        for (let i = 0; i < 1e7; i += Math.random()) {}
      }

      function h() {
        f();
      }

      a();
    </script>

  </body>
</html>
